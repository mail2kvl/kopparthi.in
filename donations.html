<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Donations ‚Ä¢ Royal Village</title>
<link rel="stylesheet" href="assets/styles.css">

<style>
  :root {
    --rv-green: #0b5c2b;
    --rv-bg: #f7fbf8;
    --rv-soft: #e7f2eb;
  }
  .hero-compact {background: radial-gradient(900px 360px at 70% -20%, rgba(11,92,43,.15), transparent), var(--rv-bg);
    border-bottom: 1px solid #e6e6e6; padding: 32px 0 24px;}
  .hero-compact .title {margin:0;font-size:36px;line-height:1.1;color:var(--rv-green);}
  .subtle{color:#5c6b62;margin-top:6px;}
  .toolbar{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin:18px 0 10px;}
  .chip-total{background:var(--rv-soft);border:1px solid #d7eadf;color:var(--rv-green);
    border-radius:999px;padding:8px 14px;font-weight:700;}
  .search{flex:1 1 260px;display:flex;align-items:center;gap:8px;
    background:#fff;border:1px solid #e6e6e6;border-radius:10px;padding:10px 12px;}
  .search input{outline:none;border:none;width:100%;background:transparent;font-size:14px;}
  .table-wrap{border-radius:14px;overflow:clip;border:1px solid #e6e6e6;box-shadow:0 6px 28px rgba(0,0,0,.06);}
  table{background:#fff;width:100%;border-collapse:collapse;}
  thead th{background:#f4f8f5;position:sticky;top:0;z-index:1;font-weight:700;color:#2a3a33;user-select:none;}
  tbody tr:nth-child(odd) td{background:#fcfdfc;}tbody tr:hover td{background:#f7fbf8;}
  th,td{padding:12px 14px;}tfoot td{font-weight:700;color:var(--rv-green);}
  th.sortable{cursor:pointer;}th.sortable .arrow{opacity:.4;transition:.15s;}
  th.sortable.asc .arrow{transform:rotate(180deg);opacity:1;}th.sortable.desc .arrow{opacity:1;}
  .tag-sponsor{display:inline-block;padding:2px 8px;font-size:12px;border-radius:999px;
    background:#fff3d6;color:#7a4b00;border:1px solid #ffe2a3;margin-left:6px;}
  .thankyou{margin-top:28px;padding:20px;border-radius:10px;background:#e7f2eb;
    color:#0b5c2b;font-weight:600;text-align:center;font-size:18px;}
</style>
</head>
<body>

<nav class="nav">
  <div class="brand">
    <img src="assets/logo.png" alt="Royal Village logo" style="width:40px;height:40px;object-fit:contain;border-radius:8px;background:#fff;padding:4px">
    <div class="name">
      <div class="soc">Royal Village</div>
      <div class="evt">‡∞µ‡∞ø‡∞®‡∞æ‡∞Ø‡∞ï ‡∞ö‡∞µ‡∞ø‡∞§‡∞ø - 2025</div>
    </div>
  </div>
  <div class="navlinks">
    <a href="index.html">Home</a>
    <a href="events.html">Events</a>
    <a href="gallery.html">Gallery</a>
    <a href="sponsors.html">Sponsors</a>
    <a href="donations.html">Donations</a>
  </div>
</nav>

<header class="hero-compact">
  <div class="container">
    <h1 class="title">Donations</h1>
        <div class="thankyou">üôè Thank you to all our generous donors and sponsors for making ‡∞µ‡∞ø‡∞®‡∞æ‡∞Ø‡∞ï ‡∞ö‡∞µ‡∞ø‡∞§‡∞ø - 2025 memorable!</div>
    <div class="toolbar">
      <div class="chip-total" id="chipTotal">Total: (loading‚Ä¶)</div>
      <label class="search">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.3-4.3M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="#3a5" stroke-width="2" stroke-linecap="round"/></svg>
        <input id="searchBox" type="search" placeholder="Search donations‚Ä¶"/>
      </label>
    </div>
  </div>
</header>

<main class="container">
  <div class="table-wrap">
    <table id="donTable">
      <thead>
        <tr>
          <th class="sortable" data-col="0">Villa # <span class="arrow">‚ñæ</span></th>
          <th class="sortable" data-col="1">Amount <span class="arrow">‚ñæ</span></th>
          <th class="sortable" data-col="2">Source <span class="arrow">‚ñæ</span></th>
          <th class="sortable" data-col="3">Date <span class="arrow">‚ñæ</span></th>
          <th data-col="4">Notes</th>
        </tr>
      </thead>
      <tbody>
        <!-- KEEP your donation rows here (I left them unchanged in your file) -->
        <!-- Example -->
<tr><td>1</td><td></td><td></td><td></td><td></td></tr><tr><td>2</td><td></td><td></td><td></td><td></td></tr><tr><td>3</td><td></td><td></td><td></td><td></td></tr><tr><td>4</td><td></td><td></td><td></td><td></td></tr><tr><td>5</td><td></td><td></td><td></td><td></td></tr><tr><td>6</td><td></td><td></td><td></td><td></td></tr><tr><td>7</td><td></td><td></td><td></td><td></td></tr><tr><td>8</td><td>3,116</td><td>Gpay</td><td>23-Aug-25</td><td></td></tr><tr><td>9</td><td>-</td><td>Sponsor</td><td>19-Aug-25</td><td>Sponsor for clay Ganesh activity</td></tr><tr><td>10</td><td></td><td></td><td></td><td></td></tr><tr><td>11</td><td></td><td></td><td></td><td></td></tr><tr><td>12</td><td></td><td></td><td></td><td></td></tr><tr><td>13</td><td>-</td><td>Sponsor</td><td>20-Aug-25</td><td>Day-2 (28, Thurs) Tiffins sponsor</td></tr><tr><td>14</td><td></td><td></td><td></td><td></td></tr><tr><td>15</td><td></td><td></td><td></td><td></td></tr><tr><td>16</td><td>3,116</td><td>Gpay</td><td>22-Aug-25</td><td></td></tr><tr><td>17</td><td></td><td></td><td></td><td></td></tr><tr><td>18</td><td></td><td></td><td></td><td></td></tr><tr><td>19</td><td>1,116</td><td>Gpay</td><td>23-Aug-25</td><td></td></tr><tr><td>20</td><td></td><td></td><td></td><td></td></tr><tr><td>21</td><td></td><td></td><td></td><td></td></tr><tr><td>22</td><td></td><td></td><td></td><td></td></tr><tr><td>23</td><td>5,116</td><td>PhonePe</td><td>21-Aug-25</td><td></td></tr><tr><td>24</td><td>3,000</td><td>Gpay</td><td>22-Aug-25</td><td></td></tr><tr><td>25</td><td></td><td></td><td></td><td></td></tr><tr><td>26</td><td>5,000</td><td>Gpay</td><td>19-Aug-25</td><td>For Children gifts</td></tr><tr><td>27</td><td></td><td></td><td></td><td></td></tr><tr><td>28</td><td></td><td></td><td></td><td></td></tr><tr><td>29</td><td></td><td></td><td></td><td></td></tr><tr><td>30</td><td></td><td></td><td></td><td></td></tr><tr><td>31</td><td>3,116</td><td>Gpay</td><td>22-Aug-25</td><td></td></tr><tr><td>32</td><td>3,116</td><td>Gpay</td><td>22-Aug-25</td><td></td></tr><tr><td>33</td><td></td><td></td><td></td><td></td></tr><tr><td>34</td><td>-</td><td>Sponsor</td><td>19-Aug-25</td><td>Idol Sponsor</td></tr><tr><td>35</td><td></td><td></td><td></td><td></td></tr><tr><td>36</td><td></td><td></td><td></td><td></td></tr><tr><td>37</td><td></td><td></td><td></td><td></td></tr><tr><td>38</td><td></td><td></td><td></td><td></td></tr><tr><td>39</td><td></td><td></td><td></td><td></td></tr><tr><td>40</td><td>-</td><td>Sponsor</td><td>20-Aug-25</td><td>Day-4 (30, Sat) Tiffins Sponsor</td></tr><tr><td>41</td><td></td><td></td><td></td><td></td></tr><tr><td>42</td><td></td><td></td><td></td><td></td></tr><tr><td>43</td><td></td><td></td><td></td><td></td></tr><tr><td>44</td><td>-</td><td>Sponsor</td><td>22-Aug-25</td><td>Day-3 (29, Fri) Tiffins sponsor</td></tr><tr><td>45</td><td></td><td></td><td></td><td></td></tr><tr><td>46</td><td></td><td></td><td></td><td></td></tr><tr><td>47</td><td>-</td><td>Sponsor</td><td>19-Aug-25</td><td>Day-1 (27, Wed) Tiffins Sponsor</td></tr><tr><td>48</td><td>-</td><td>Sponsor</td><td>19-Aug-25</td><td>Laddu Sponsor</td></tr><tr><td>49</td><td>5,116</td><td>Gpay</td><td>21-Aug-25</td><td></td></tr><tr><td>50</td><td>3,001</td><td>PhonePe</td><td>21-Aug-25</td><td></td></tr><tr><td>51</td><td></td><td></td><td></td><td></td></tr><tr><td>52</td><td></td><td></td><td></td><td></td></tr><tr><td>53</td><td>3,116</td><td>Gpay</td><td>23-Aug-25</td><td></td></tr><tr><td>54</td><td></td><td></td><td></td><td></td></tr><tr><td>55</td><td>2,116</td><td>Gpay</td><td>21-Aug-25</td><td></td></tr><tr><td>56</td><td></td><td></td><td></td><td></td></tr><tr><td>57</td><td>3,057</td><td>Gpay</td><td>22-Aug-25</td><td></td></tr><tr><td>58</td><td>3,116</td><td>Gpay</td><td>19-Aug-25</td><td></td></tr><tr><td>59</td><td>3,016</td><td>Gpay</td><td>22-Aug-25</td><td></td></tr><tr><td>60</td><td></td><td></td><td></td><td></td></tr><tr><td>61</td><td></td><td></td><td></td><td></td></tr><tr><td>62</td><td></td><td></td><td></td><td></td></tr><tr><td>63</td><td></td><td></td><td></td><td></td></tr><tr><td>64</td><td></td><td></td><td></td><td></td></tr><tr><td>65</td><td></td><td></td><td></td><td></td></tr><tr><td>66</td><td>3,001</td><td>Gpay</td><td>21-Aug-25</td><td></td></tr><tr><td>67</td><td></td><td></td><td></td><td></td></tr><tr><td>68</td><td></td><td></td><td></td><td></td></tr><tr><td>69</td><td></td><td></td><td></td><td></td></tr><tr><td>70</td><td></td><td></td><td></td><td></td></tr><tr><td>71</td><td></td><td></td><td></td><td></td></tr><tr><td>72</td><td>5,000</td><td>Gpay</td><td>19-Aug-25</td><td></td></tr><tr><td>73</td><td>-</td><td>Sponsor</td><td>22-Aug-25</td><td>Sponsor of Pattu vastralu</td></tr><tr><td>74</td><td></td><td></td><td></td><td></td></tr><tr><td>75</td><td></td><td></td><td></td><td></td></tr><tr><td>76</td><td></td><td></td><td></td><td></td></tr><tr><td>77</td><td></td><td></td><td></td><td></td></tr><tr><td>78</td><td></td><td></td><td></td><td></td></tr><tr><td>79</td><td>5,116</td><td>Gpay</td><td>21-Aug-25</td><td></td></tr><tr><td>80</td><td></td><td></td><td></td><td></td></tr><tr><td>81</td><td>5,116</td><td>Gpay</td><td>22-Aug-25</td><td></td></tr><tr><td>82</td><td>10,000</td><td>Sponsor</td><td>19-Aug-25</td><td>For flowers and pooja items</td></tr><tr><td>83</td><td>3,001</td><td>Gpay</td><td>21-Aug-25</td><td></td></tr>        <!-- etc‚Ä¶ -->
      </tbody>
      <tfoot>
        <tr><td colspan="5" id="grandTotal">Total: ‚Çπ80,468</td></tr>
      </tfoot>
    </table>
  </div>

</main>

<footer class="container">¬© 2025 Royal Village ‚Ä¢ All rights reserved.</footer>

<script>
  const tbody = document.querySelector('#donTable tbody');
  const totalCell = document.getElementById('grandTotal');
  const chip = document.getElementById('chipTotal');
  const searchBox = document.getElementById('searchBox');

  // add ‚Çπ before amounts (except "-" or blank)
  Array.from(tbody.rows).forEach(r=>{
    const c = r.cells[1];
    let v = c.textContent.trim();
    if(v && v !== '-') {
      if(!v.startsWith('‚Çπ')) c.textContent = '‚Çπ ' + v;
    }
    // tag sponsors
    if(r.cells[2].textContent.trim().toLowerCase()==='sponsor' || v==='-'){
      const span=document.createElement('span');span.className='tag-sponsor';span.textContent='Sponsor';
      r.cells[4].appendChild(span);
    }
  });

  chip.textContent = totalCell.textContent;

  // sorting
  let sortState={};
  function parseAmt(t){ if(!t) return 0; return Number(t.replace(/[^0-9]/g,''))||0; }
  document.querySelectorAll('th.sortable').forEach(th=>{
    th.addEventListener('click',()=>{
      const col=+th.dataset.col; const dir=sortState[col]==='asc'?'desc':'asc';
      sortState={[col]:dir};
      document.querySelectorAll('th.sortable').forEach(x=>x.classList.remove('asc','desc'));
      th.classList.add(dir);
      const rows=[...tbody.rows];
      rows.sort((a,b)=>{
        const A=a.cells[col].textContent.trim(),B=b.cells[col].textContent.trim();
        if(col===1){return dir==='asc'?parseAmt(A)-parseAmt(B):parseAmt(B)-parseAmt(A);}
        return dir==='asc'?A.localeCompare(B):B.localeCompare(A);
      });
      rows.forEach(r=>tbody.appendChild(r));
    });
  });

  // search
  searchBox.addEventListener('input',e=>{
    const q=e.target.value.toLowerCase();
    Array.from(tbody.rows).forEach(r=>{
      const txt=[...r.cells].map(td=>td.textContent.toLowerCase()).join(' ');
      r.style.display=txt.includes(q)?'':'none';
    });
  });
</script>
</body>
</html>
